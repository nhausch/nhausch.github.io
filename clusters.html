<script src="https://unpkg.com/vue"></script>
<div id="clustering-viz">
  <ul id="nav">
    <li><a href="index.html">About</a></li>
    <li><a href="#">Clusters</a></li>
  </ul>
  <div>
    <p id="about"> 
    <b id="name">Clustering Visualizer</b>
    <br/><br/>
    This is a tool for visualizing clustering algorithms. There are a few different datasets and algorithms to choose from. Please give it a try! 
    </p>
    <div>
      <select id="select-dataset" style="width:190px;" @change="selectDataset">
        <option selected disabled>Select dataset..</option>
        <option v-for="dataset in datasets">
          {{ dataset }}
        </option>
      </select>
      <select id="select-algorithm" style="width:190px;" @change="selectAlgorithm">
        <option selected disabled>Select algorithm..</option>
        <option v-for="algorithm in algorithms">
          {{ algorithm }}
        </option>
      </select>

      <span class="select-parameter" v-if="showSelectNumClusters">
        &nbsp Clusters: 
        <button class="incrementButton" v-on:click="decrementNumClusters"><strong>-</strong></button> 
        <strong>{{ numClusters }}</strong>
        <button class="incrementButton" v-on:click="incrementNumClusters"><strong>+</strong></button> 
      </span>

      <span class="select-parameter" v-if="showSelectKernelBandwidth">
        &nbsp Bandwidth: 
        <button class="incrementButton" v-on:click="decrementKernelBandwidth"><strong>-</strong></button> 
        &nbsp <strong>{{ kernelBandwidth }}</strong> &nbsp
        <button class="incrementButton" v-on:click="incrementKernelBandwidth"><strong>+</strong></button> 
      </span>

      <br/><br/>
      <button class="butt" v-on:click="runMain">Run</button>
      <span id="run-message">{{ runMessage }}</span>
    </div>
    <svg class="graph">
      <g class="grid x-grid">
        <line x1="0" x2="0" y1="0" y2="500"></line>
        <line x1="800" x2="800" y1="0" y2="500"></line>
      </g>
      <g class="grid y-grid">
        <line x1="0" x2="800" y1="500" y2="500"></line>
        <line x1="0" x2="800" y1="0" y2="0"></line>
      </g>
      <g class="points" v-for="point in dataPoints">
        <circle :cx="point.x" :cy="point.y" r="4" :fill="point.fill" :stroke="point.color" stroke-width="2"></circle>
      </g>
      <g class="centroids" v-for="point in centroids" v-if="showCentroidsOnPage">
        <circle :cx="point.x" :cy="point.y" r="7" :fill="point.color" stroke="black" stroke-width="2"></circle>
      </g>
      <g class="points" v-for="point in shiftedPoints" v-if="showShiftedPointsOnPage">
        <circle :cx="point.x" :cy="point.y" r="4" fill="#DF3939" :stroke="point.color" stroke-width="2"></circle>
      </g>
      <g class="indicatorCircle" v-if="showIndicatorCircle">
        <circle :cx="ind_circle.x" :cy="ind_circle.y" :r="epsilon" fill-opacity="0.0" stroke="black" stroke-width="2"></circle>
      </g>
    </svg>
  </div>
  <br/>
</div>
<script>

  var app = new Vue({
    el: '#clustering-viz',
    data: {
      dataset: 'Not Selected',
      datasets: ['R15', 'Pathbased', 'Compound', 'Spiral', 'Jain', 'Flame', 'Aggregation'],
      algorithm: 'Not Selected',
      algorithms: ['K-Means', 'Mean-Shift', 'DBSCAN'],
      colors: [],
      runMessage: '',
      numClusters: 3,

      showSelectNumClusters: false,
      showSelectKernelBandwidth: false,
      showSelectDBSCANInputs: false,

      dataPoints: [],
      dataPointsBuffer: [],
      dataPointsAggregation: [],
      dataPointsFlame: [],
      dataPointsJain: [],
      dataPointsCompound: [],
      dataPointsPathbased: [],
      dataPointsR15: [],

      // K-Means
      centroids: [],
      centroidsChanged: true,
      showCentroidsOnPage: false,
      maxIterations: 20,
      kMeansRunning: false,

      // Mean-Shift
      shiftedPoints: [],
      neighborhoodDistance: 500,
      showShiftedPoints: false,
      kernelBandwidth: 30,
      maxIterationsMS: 40,
      stopThresh: 0.5,

      // DBSCAN
      showIndicatorCircle: false,
      ind_circle: {x: 0, y: 0},
    },
    mounted: function() {

      this.colors.push("#F03D3D")
      this.colors.push("#F7BE70")
      this.colors.push("#FFEC08")
      this.colors.push("#459B4E")
      this.colors.push("#A8F5BC")
      this.colors.push("#2148E8")
      this.colors.push("#8B21E8")
      this.colors.push("#ED16BF")
      this.colors.push("#EC8E8E")
      this.colors.push("#AED6F1")

      this.dataPointsAggregation = [[14.45, 28.35, 2], [13.35, 28.45, 2], [13.6, 26.5, 2], [12.3, 28.4, 2], [12.95, 25.95, 2], [11.35, 28.0, 2], [10.75, 27.7, 2], [10.25, 27.25, 2], [11.6, 25.9, 2], [11.9, 24.5, 2], [10.05, 25.95, 2], [9.2, 27.8, 2], [8.5, 27.05, 2], [7.3, 27.4, 2], [7.55, 26.3, 2], [8.6, 25.65, 2], [8.85, 24.6, 2], [11.05, 23.9, 2], [9.2, 23.9, 2], [7.4, 25.45, 2], [5.8, 26.95, 2], [6.4, 25.4, 2], [4.8, 25.05, 2], [6.55, 24.3, 2], [4.3, 24.0, 2], [4.85, 23.05, 2], [5.9, 23.55, 2], [7.65, 23.1, 2], [5.5, 22.6, 2], [4.65, 21.2, 2], [5.6, 20.75, 2], [6.55, 21.15, 2], [7.75, 21.2, 2], [6.6, 20.1, 2], [5.35, 19.05, 2], [7.0, 18.9, 2], [8.2, 20.05, 2], [8.75, 18.8, 2], [8.9, 17.65, 2], [10.4, 16.75, 2], [8.65, 21.9, 2], [9.95, 22.65, 2], [10.55, 22.3, 2], [12.05, 23.4, 2], [11.15, 22.05, 2], [9.6, 21.3, 2], [9.25, 19.65, 2], [11.3, 20.7, 2], [12.85, 20.75, 2], [10.35, 19.0, 2], [11.4, 18.3, 2], [12.8, 19.75, 2], [11.95, 17.25, 2], [13.75, 18.15, 2], [14.0, 19.9, 2], [13.9, 17.1, 2], [7.8, 13.7, 7], [9.7, 12.1, 7], [6.8, 13.2, 7], [5.4, 12.85, 7], [5.15, 11.35, 7], [7.0, 12.35, 7], [8.55, 12.1, 7], [6.9, 11.5, 7], [5.9, 10.3, 7], [7.35, 10.5, 7], [8.8, 11.4, 7], [9.35, 10.5, 7], [10.9, 10.0, 4], [10.1, 8.65, 4], [12.85, 10.65, 4], [14.05, 11.75, 4], [17.0, 12.9, 4], [16.7, 12.2, 4], [14.8, 11.35, 4], [12.8, 10.1, 4], [11.8, 8.95, 4], [10.1, 6.75, 4], [13.1, 8.95, 4], [11.5, 7.5, 4], [12.4, 7.1, 4], [13.45, 7.95, 4], [14.3, 9.3, 4], [15.45, 10.55, 4], [16.25, 10.2, 4], [15.15, 9.3, 4], [14.25, 8.7, 4], [14.3, 7.5, 4], [13.95, 6.7, 4], [11.55, 6.3, 4], [11.35, 5.55, 4], [12.8, 5.7, 4], [13.1, 5.1, 4], [11.35, 4.05, 4], [12.65, 3.7, 4], [12.75, 3.0, 4], [14.1, 4.1, 4], [14.5, 6.55, 4], [14.45, 2.4, 4], [15.25, 3.5, 4], [15.25, 2.7, 4], [16.1, 3.55, 4], [15.55, 5.05, 4], [15.5, 6.75, 4], [16.35, 5.35, 4], [16.95, 4.75, 4], [17.3, 4.15, 4], [17.25, 3.05, 4], [17.2, 2.05, 4], [18.15, 3.05, 4], [18.85, 3.2, 4], [19.0, 2.1, 4], [19.8, 3.25, 4], [18.4, 4.6, 4], [19.1, 4.55, 4], [17.05, 6.05, 4], [15.7, 7.15, 4], [20.4, 3.4, 4], [21.75, 2.65, 4], [21.45, 3.75, 4], [20.8, 4.7, 4], [19.85, 5.5, 4], [18.7, 5.75, 4], [18.45, 6.6, 4], [18.65, 7.3, 4], [17.5, 8.25, 4], [16.4, 8.7, 4], [16.5, 9.75, 4], [17.8, 9.3, 4], [18.8, 8.35, 4], [20.05, 6.95, 4], [21.15, 5.7, 4], [23.05, 3.35, 4], [22.5, 4.75, 4], [23.5, 5.05, 4], [22.2, 5.75, 4], [21.0, 7.15, 4], [19.5, 8.65, 4], [18.6, 10.0, 4], [18.0, 10.65, 4], [17.55, 11.3, 4], [18.0, 12.5, 4], [19.45, 10.55, 4], [20.05, 9.95, 4], [19.2, 12.25, 4], [20.7, 10.65, 4], [21.85, 10.7, 4], [20.9, 9.7, 4], [20.75, 8.75, 4], [21.65, 8.65, 4], [22.0, 6.75, 4], [22.75, 7.05, 4], [22.2, 8.7, 4], [22.75, 9.35, 4], [23.3, 9.85, 4], [23.7, 8.85, 4], [23.5, 7.85, 4], [23.65, 6.5, 4], [24.8, 6.4, 4], [32.0, 3.8, 3], [30.4, 5.65, 3], [30.1, 7.4, 3], [30.85, 7.35, 3], [32.35, 6.45, 3], [32.8, 4.8, 3], [33.05, 5.15, 3], [34.9, 4.65, 3], [34.2, 4.2, 3], [35.95, 6.05, 3], [33.95, 6.6, 3], [32.3, 7.65, 3], [31.15, 8.65, 3], [30.7, 9.15, 3], [30.95, 9.85, 3], [33.55, 8.6, 3], [34.6, 7.25, 3], [36.1, 7.5, 3], [35.35, 8.05, 3], [35.5, 9.1, 3], [34.4, 9.5, 3], [32.5, 9.65, 3], [31.6, 10.5, 3], [30.9, 11.45, 3], [31.2, 12.0, 3], [32.95, 11.15, 3], [32.05, 12.25, 3], [32.75, 13.1, 3], [33.15, 12.1, 3], [34.65, 11.0, 3], [36.35, 10.0, 3], [35.2, 11.75, 3], [34.05, 12.55, 3], [33.2, 14.15, 3], [32.95, 15.65, 6], [32.65, 17.05, 6], [31.7, 17.65, 6], [30.45, 18.05, 6], [30.5, 19.3, 6], [29.15, 20.55, 6], [31.0, 19.9, 6], [32.05, 18.6, 6], [32.85, 17.95, 6], [34.25, 17.35, 6], [33.05, 18.85, 6], [32.3, 19.85, 6], [31.75, 20.75, 6], [30.65, 21.3, 6], [30.35, 22.05, 6], [30.95, 22.65, 6], [29.35, 22.55, 6], [30.95, 24.15, 6], [32.55, 22.05, 6], [33.65, 21.9, 6], [33.8, 20.4, 6], [34.85, 18.85, 6], [34.55, 19.75, 6], [36.35, 20.6, 6], [34.4, 21.25, 6], [35.05, 21.5, 6], [36.25, 21.95, 6], [35.85, 23.25, 6], [34.9, 23.5, 6], [33.25, 23.35, 6], [34.25, 23.95, 6], [35.15, 25.3, 6], [32.25, 24.45, 6], [31.55, 25.2, 6], [29.8, 24.8, 6], [30.5, 25.5, 6], [31.45, 26.95, 6], [31.25, 27.85, 6], [33.25, 27.55, 6], [32.35, 25.95, 6], [33.05, 26.5, 6], [34.2, 27.95, 6], [35.7, 26.15, 6], [20.15, 20.9, 1], [18.45, 22.8, 1], [19.55, 22.25, 1], [21.45, 21.45, 1], [21.0, 22.6, 1], [19.75, 23.65, 1], [20.65, 23.85, 1], [20.15, 25.05, 1], [21.7, 23.8, 1], [22.55, 24.3, 1], [23.8, 25.25, 1], [22.3, 22.8, 1], [22.85, 21.9, 1], [24.1, 21.9, 1], [24.15, 23.3, 1], [6.35, 1.95, 5], [5.4, 2.7, 5], [5.15, 3.45, 5], [6.2, 3.2, 5], [6.75, 3.2, 5], [5.8, 4.0, 5], [5.7, 4.45, 5], [6.55, 5.05, 5], [7.1, 4.3, 5], [7.25, 3.55, 5], [8.5, 3.25, 5]];

      this.dataPointsFlame = [[1.4, 23.25, 2], [0.65, 21.35, 2], [1.95, 22.8, 2], [2.5, 21.85, 2], [1.35, 21.45, 2], [1.75, 20.05, 2], [1.7, 19.05, 2], [3.7, 20.45, 2], [2.4, 19.4, 2], [3.25, 19.05, 2], [3.45, 18.05, 2], [4.45, 19.9, 2], [4.3, 18.05, 2], [4.4, 16.95, 2], [5.25, 18.25, 2], [6.05, 19.55, 2], [5.6, 17.8, 2], [4.55, 16.05, 2], [5.6, 15.3, 2], [6.25, 16.4, 2], [6.65, 18.3, 2], [7.15, 17.8, 2], [7.3, 17.25, 2], [6.75, 16.3, 2], [7.35, 15.8, 2], [6.85, 14.45, 2], [8.2, 15.5, 2], [7.8, 17.0, 2], [8.65, 17.75, 2], [8.65, 16.65, 2], [9.6, 15.3, 2], [9.5, 16.65, 2], [9.85, 17.1, 2], [9.85, 18.15, 2], [9.15, 19.15, 2], [11.1, 17.65, 2], [11.95, 18.25, 2], [11.15, 19.0, 2], [11.8, 19.45, 2], [9.9, 19.75, 2], [12.5, 19.75, 2], [10.85, 20.85, 2], [12.3, 20.45, 2], [12.05, 21.25, 2], [12.8, 21.5, 2], [12.95, 22.0, 2], [12.7, 23.35, 2], [14.05, 22.25, 2], [13.5, 22.8, 2], [7.3, 19.15, 2], [6.75, 19.9, 2], [7.0, 20.7, 1], [9.35, 20.5, 1], [7.15, 21.75, 1], [6.2, 21.95, 1], [5.65, 22.2, 1], [5.35, 22.8, 1], [8.5, 22.3, 1], [8.8, 22.95, 1], [6.85, 23.0, 1], [5.1, 23.55, 1], [6.1, 24.05, 1], [7.3, 23.75, 1], [9.55, 23.65, 1], [3.95, 24.4, 1], [4.55, 26.65, 1], [7.45, 27.6, 1], [9.95, 26.5, 1], [9.2, 24.5, 1], [9.2, 25.35, 1], [8.8, 25.8, 1], [8.35, 25.2, 1], [7.3, 24.4, 1], [6.25, 24.65, 1], [5.0, 25.55, 1], [6.2, 25.2, 1], [6.65, 25.45, 1], [6.6, 26.6, 1], [7.5, 25.65, 1], [6.15, 26.9, 1]];
      
      this.dataPointsJain = [[3.3, 15.45, 2], [5.35, 15.85, 2], [4.05, 18.75, 2], [3.1, 21.85, 2], [7.2, 14.5, 2], [7.05, 19.9, 2], [6.55, 21.8, 2], [4.55, 23.9, 2], [10.15, 27.7, 2], [11.2, 22.8, 2], [11.65, 26.85, 2], [13.7, 27.75, 2], [15.15, 24.2, 2], [12.15, 21.45, 2], [13.75, 22.0, 2], [14.2, 22.15, 2], [17.2, 24.8, 2], [17.0, 26.85, 2], [18.8, 24.7, 2], [16.6, 21.15, 2], [18.25, 20.2, 2], [19.2, 21.95, 2], [20.1, 20.9, 2], [19.25, 18.7, 2], [23.15, 24.1, 2], [20.95, 18.25, 2], [21.6, 16.3, 2], [22.25, 18.1, 2], [23.75, 20.2, 2], [23.0, 18.0, 2], [27.65, 15.65, 2], [24.05, 14.9, 2], [14.3, 16.8, 1], [15.35, 15.5, 1], [17.35, 17.05, 1], [16.5, 15.15, 1], [15.9, 13.2, 1], [17.0, 15.65, 1], [17.15, 15.1, 1], [17.0, 14.6, 1], [17.1, 14.0, 1], [17.6, 13.85, 1], [17.1, 12.75, 1], [16.25, 12.5, 1], [16.7, 11.4, 1], [18.05, 11.9, 1], [18.7, 11.25, 1], [17.45, 10.4, 1], [17.3, 9.7, 1], [19.8, 9.95, 1], [17.55, 8.1, 1], [19.3, 9.1, 1], [18.9, 8.5, 1], [19.35, 8.2, 1], [20.3, 8.9, 1], [18.65, 6.9, 1], [19.15, 6.65, 1], [21.1, 8.0, 1], [20.1, 6.05, 1], [20.95, 6.2, 1], [21.85, 8.5, 1], [21.85, 6.65, 1], [22.5, 6.15, 1], [21.95, 4.8, 1], [22.45, 4.9, 1], [23.2, 5.3, 1], [24.45, 6.15, 1], [26.05, 6.4, 1], [23.3, 4.9, 1], [22.8, 4.1, 1], [23.45, 3.6, 1], [23.8, 4.75, 1], [24.7, 3.85, 1], [26.4, 5.7, 1], [27.5, 5.45, 1], [26.6, 4.9, 1], [26.0, 4.25, 1], [25.85, 3.6, 1], [25.45, 3.15, 1], [27.2, 3.0, 1], [28.8, 4.05, 1], [28.6, 5.75, 1], [30.6, 3.4, 1], [29.2, 4.0, 1], [29.4, 4.85, 1], [30.75, 4.45, 1], [31.05, 3.95, 1], [30.7, 6.15, 1], [32.0, 7.0, 1], [32.6, 6.95, 1], [32.35, 6.1, 1], [32.35, 4.25, 1], [32.75, 4.85, 1], [33.6, 5.25, 1], [33.4, 6.2, 1], [34.65, 6.25, 1], [34.1, 7.15, 1], [34.85, 7.0, 1], [35.05, 8.0, 1], [36.6, 6.7, 1], [35.95, 7.9, 1], [37.6, 7.35, 1], [34.9, 9.0, 1], [36.0, 9.65, 1], [36.6, 9.8, 1], [36.4, 10.15, 1], [38.15, 9.7, 1], [37.7, 10.8, 1], [37.0, 11.75, 1], [37.25, 12.15, 1], [38.6, 11.75, 1], [37.3, 13.0, 1], [38.3, 14.6, 1], [38.5, 14.25, 1], [38.95, 12.9, 1], [39.55, 12.3, 1], [40.4, 12.05, 1], [40.45, 14.5, 1], [40.6, 15.25, 1], [41.25, 16.8, 1], [40.45, 16.3, 1], [39.25, 15.5, 1], [38.75, 16.85, 1], [39.5, 16.95, 1]];
      
      this.dataPointsSpiral = [[30.45, 6.65, 3], [28.05, 5.0, 3], [25.4, 3.85, 3], [22.75, 3.15, 3], [20.0, 2.9, 3], [17.3, 3.25, 3], [14.85, 4.1, 3], [12.7, 5.2, 3], [10.9, 6.65, 3], [9.35, 8.35, 3], [8.15, 10.35, 3], [7.55, 12.35, 3], [7.3, 14.35, 3], [7.55, 16.35, 3], [8.05, 18.15, 3], [8.9, 19.85, 3], [10.2, 21.25, 3], [11.55, 22.45, 3], [13.05, 23.2, 3], [14.55, 23.6, 3], [16.15, 23.85, 3], [17.75, 23.75, 3], [19.1, 23.35, 3], [20.4, 22.7, 3], [21.45, 21.95, 3], [22.25, 21.0, 3], [22.75, 20.05, 3], [23.1, 19.0, 3], [23.2, 18.05, 3], [23.05, 17.15, 3], [22.7, 16.4, 3], [22.4, 15.95, 3], [22.15, 15.55, 3], [21.85, 15.25, 3], [21.55, 15.0, 3], [20.35, 31.45, 1], [23.2, 30.45, 1], [25.6, 29.05, 1], [27.75, 27.35, 1], [29.5, 25.15, 1], [30.6, 22.9, 1], [31.35, 20.55, 1], [31.65, 18.15, 1], [31.3, 15.8, 1], [30.6, 13.65, 1], [29.5, 11.75, 1], [28.0, 10.1, 1], [26.25, 8.8, 1], [24.5, 7.75, 1], [22.5, 7.3, 1], [20.5, 7.0, 1], [18.75, 7.1, 1], [16.9, 7.6, 1], [15.4, 8.35, 1], [13.95, 9.3, 1], [12.95, 10.55, 1], [12.2, 11.75, 1], [11.75, 13.05, 1], [11.55, 14.35, 1], [11.65, 15.7, 1], [12.0, 16.75, 1], [12.55, 17.85, 1], [13.3, 18.6, 1], [14.15, 19.25, 1], [15.0, 19.7, 1], [15.95, 19.9, 1], [16.85, 19.9, 1], [17.65, 19.75, 1], [18.2, 19.55, 1], [3.35, 11.4, 2], [3.05, 14.15, 2], [3.2, 16.85, 2], [3.95, 19.55, 2], [5.15, 21.8, 2], [6.8, 23.85, 2], [8.8, 25.45, 2], [10.9, 26.75, 2], [13.3, 27.6, 2], [15.55, 27.75, 2], [17.9, 27.75, 2], [20.1, 27.35, 2], [22.05, 26.5, 2], [23.8, 25.3, 2], [25.25, 23.95, 2], [26.2, 22.3, 2], [27.0, 20.7, 2], [27.35, 19.1, 2], [27.3, 17.4, 2], [27.0, 15.9, 2], [26.3, 14.45, 2], [25.35, 13.3, 2], [24.4, 12.45, 2], [23.2, 11.65, 2], [21.9, 11.1, 2], [20.7, 10.95, 2], [19.55, 11.0, 2], [18.45, 11.25, 2], [17.5, 11.7, 2], [16.75, 12.2, 2], [16.35, 12.7, 2], [16.0, 13.1, 2], [15.8, 13.5, 2], [15.65, 14.05, 2], [15.65, 14.6, 2]];

      this.dataPointsCompound = [[31.55, 21.1, 1], [26.8, 19.05, 1], [27.25, 16.7, 1], [28.2, 13.95, 1], [29.45, 12.05, 1], [29.95, 9.85, 1], [29.15, 8.1, 1], [34.8, 12.25, 1], [38.7, 14.25, 1], [40.7, 12.8, 1], [38.35, 10.4, 1], [40.8, 10.65, 1], [42.45, 17.45, 1], [40.95, 20.65, 1], [38.4, 20.0, 1], [34.15, 22.35, 1], [33.35, 19.6, 2], [32.45, 18.7, 2], [33.7, 19.05, 2], [32.8, 18.2, 2], [33.35, 18.15, 2], [33.75, 17.75, 2], [34.95, 18.5, 2], [35.65, 18.15, 2], [36.25, 18.2, 2], [36.75, 18.1, 2], [37.65, 17.75, 2], [38.8, 17.3, 2], [38.25, 16.35, 2], [37.65, 16.4, 2], [36.6, 17.4, 2], [36.6, 16.9, 2], [35.3, 17.55, 2], [34.3, 17.35, 2], [33.35, 17.05, 2], [34.0, 16.4, 2], [31.7, 16.65, 2], [31.15, 15.35, 2], [32.15, 14.35, 2], [33.8, 13.9, 2], [34.05, 15.35, 2], [33.0, 16.5, 2], [31.5, 15.85, 2], [32.55, 16.1, 2], [32.05, 15.2, 2], [33.5, 15.6, 2], [33.3, 14.5, 2], [10.9, 22.35, 3], [14.65, 20.3, 3], [10.25, 21.25, 3], [7.15, 19.9, 3], [7.35, 18.3, 3], [9.6, 18.85, 3], [10.9, 20.3, 3], [10.8, 19.6, 3], [10.3, 19.15, 3], [10.05, 18.1, 3], [11.15, 18.1, 3], [11.5, 17.1, 3], [13.9, 16.7, 3], [16.95, 21.6, 4], [20.45, 22.75, 4], [21.95, 21.9, 4], [17.05, 19.85, 4], [16.35, 16.9, 4], [17.3, 17.75, 4], [17.85, 19.5, 4], [19.55, 20.55, 4], [18.95, 19.3, 4], [18.85, 18.9, 4], [18.3, 18.1, 4], [18.75, 15.5, 4], [21.25, 20.4, 4], [20.25, 17.2, 4], [22.2, 17.15, 4], [12.7, 13.0, 5], [15.05, 12.95, 5], [15.95, 12.6, 5], [13.85, 12.4, 5], [11.9, 12.1, 5], [13.4, 11.65, 5], [15.2, 11.95, 5], [13.95, 10.9, 5], [12.45, 10.9, 5], [11.25, 11.85, 5], [10.6, 11.6, 5], [9.75, 10.6, 5], [10.9, 10.4, 5], [12.9, 9.7, 5], [11.15, 9.8, 5], [10.75, 9.0, 5], [12.15, 9.1, 5], [11.95, 8.25, 5], [11.55, 7.95, 5], [12.65, 7.95, 5], [12.2, 7.0, 5], [13.2, 7.55, 5], [13.8, 7.3, 5], [12.45, 6.25, 5], [14.1, 6.75, 5], [15.85, 7.3, 5], [14.45, 6.3, 5], [15.5, 5.9, 5], [16.55, 7.1, 5], [17.05, 6.25, 5], [16.3, 11.65, 5], [16.75, 13.1, 5], [17.1, 12.1, 5], [17.55, 12.1, 5], [18.25, 12.25, 5], [18.3, 11.65, 5], [19.1, 11.8, 5], [18.95, 10.8, 5], [19.25, 10.35, 5], [19.45, 9.75, 5], [20.65, 10.35, 5], [21.65, 9.65, 5], [19.5, 9.2, 5], [21.2, 8.7, 5], [21.65, 7.8, 5], [19.4, 8.7, 5], [20.0, 7.6, 5], [20.85, 6.85, 5], [19.05, 7.45, 5], [18.3, 7.1, 5], [20.15, 6.45, 5], [17.65, 6.55, 5], [17.45, 9.85, 6], [17.0, 10.05, 6], [16.6, 9.45, 6], [16.05, 9.35, 6], [15.35, 9.9, 6], [15.1, 9.55, 6]]
      
      this.dataPointsPathbased = [[9.85, 5.8, 1], [8.65, 6.6, 1], [6.95, 8.7, 1], [5.9, 10.7, 1], [5.7, 12.95, 1], [4.7, 14.85, 1], [5.75, 16.7, 1], [6.05, 18.0, 1], [5.85, 21.25, 1], [5.9, 22.8, 1], [7.95, 24.65, 1], [8.85, 26.95, 1], [11.25, 28.2, 1], [11.95, 28.65, 1], [14.7, 30.2, 1], [16.1, 31.05, 1], [18.55, 31.6, 1], [20.1, 31.3, 1], [22.95, 30.05, 1], [24.75, 30.0, 1], [26.7, 28.3, 1], [28.25, 27.4, 1], [29.45, 25.55, 1], [30.6, 23.95, 1], [30.65, 21.3, 1], [31.45, 19.3, 1], [33.05, 18.05, 1], [32.4, 15.15, 1], [31.65, 13.35, 1], [31.05, 10.3, 1], [30.5, 8.25, 1], [29.0, 7.05, 1], [28.15, 5.45, 1], [25.8, 3.65, 1], [30.7, 17.4, 1], [30.5, 15.55, 1], [28.65, 14.1, 3], [25.05, 10.1, 3], [28.3, 14.45, 3], [23.15, 11.0, 3], [24.55, 11.6, 3], [24.85, 13.2, 3], [25.65, 12.9, 3], [27.1, 14.55, 3], [26.4, 14.35, 3], [25.35, 14.65, 3], [23.65, 15.3, 3], [20.9, 12.95, 3], [22.15, 16.65, 3], [23.95, 15.95, 3], [25.15, 16.15, 3], [26.2, 16.85, 3], [26.75, 16.2, 3], [26.95, 17.2, 3], [27.7, 17.6, 3], [28.5, 19.15, 3], [27.3, 20.5, 3], [26.5, 20.0, 3], [24.75, 20.7, 3], [24.3, 19.7, 3], [24.35, 16.8, 3], [24.35, 17.7, 3], [24.4, 18.35, 3], [22.4, 20.65, 3], [21.6, 17.7, 3], [19.95, 19.8, 3], [19.7, 17.45, 3], [10.1, 10.05, 2], [8.65, 13.35, 2], [8.05, 15.9, 2], [9.0, 17.05, 2], [9.55, 15.3, 2], [10.05, 15.6, 2], [10.9, 15.95, 2], [11.15, 14.75, 2], [11.1, 13.6, 2], [13.5, 12.4, 2], [15.4, 12.2, 2], [14.1, 13.05, 2], [13.15, 13.4, 2], [15.45, 13.75, 2], [13.75, 14.5, 2], [13.25, 15.5, 2], [11.25, 16.4, 2], [12.7, 16.6, 2], [11.45, 16.8, 2], [11.65, 17.6, 2], [11.05, 18.55, 2], [7.45, 19.0, 1], [10.65, 20.45, 2], [12.2, 19.65, 2], [14.15, 20.05, 2], [12.85, 18.1, 2], [14.25, 18.8, 2], [13.75, 17.05, 2], [14.75, 16.65, 2], [15.85, 16.2, 2], [16.6, 16.15, 2], [16.65, 17.5, 2], [15.7, 18.4, 2]];
      
      this.dataPointsR15 = [[10.098, 9.988, 1], [9.836, 9.902, 1], [10.154, 9.82, 1], [9.712, 10.264, 1], [10.236, 9.91, 1], [10.138, 9.828, 1], [10.284, 10.348, 1], [10.356, 9.198, 1], [10.386, 10.608, 1], [10.286, 9.712, 1], [10.352, 9.932, 1], [9.944, 9.934, 1], [10.182, 9.99, 1], [12.082, 10.044, 2], [12.34, 9.918, 2], [12.044, 9.358, 2], [11.246, 10.122, 2], [12.53, 10.0, 2], [12.458, 10.18, 2], [11.502, 10.008, 2], [12.064, 9.616, 2], [12.114, 10.904, 2], [12.164, 11.018, 2], [11.808, 10.058, 2], [12.252, 9.938, 2], [12.274, 9.936, 2], [11.372, 11.466, 3], [11.232, 11.374, 3], [11.014, 11.746, 3], [11.2, 11.062, 3], [11.144, 11.91, 3], [11.21, 11.114, 3], [11.412, 11.924, 3], [10.96, 11.392, 3], [11.368, 11.56, 3], [10.974, 11.114, 3], [10.95, 11.402, 3], [11.65, 11.496, 3], [11.424, 11.454, 3], [11.56, 11.798, 3], [9.178, 11.53, 4], [9.914, 11.844, 4], [9.582, 12.14, 4], [10.234, 11.974, 4], [9.592, 12.012, 4], [9.71, 11.772, 4], [9.382, 12.226, 4], [9.392, 11.18, 4], [9.322, 11.514, 4], [8.978, 12.37, 4], [9.506, 11.648, 4], [9.916, 11.962, 4], [9.024, 11.846, 4], [8.164, 10.534, 5], [8.05, 10.746, 5], [8.472, 11.082, 5], [8.096, 10.714, 5], [7.814, 10.872, 5], [8.068, 10.118, 5], [8.096, 10.878, 5], [8.27, 10.716, 5], [8.582, 11.064, 5], [8.504, 11.378, 5], [7.668, 10.924, 5], [7.988, 11.228, 5], [8.248, 10.994, 5], [7.976, 9.578, 6], [8.068, 9.202, 6], [8.056, 8.434, 6], [7.616, 9.446, 6], [8.022, 9.334, 6], [7.704, 8.672, 6], [8.352, 8.896, 6], [8.534, 8.55, 6], [8.622, 9.174, 6], [7.904, 9.194, 6], [8.262, 9.468, 6], [8.352, 9.016, 6], [7.892, 8.808, 6], [8.242, 9.308, 6], [9.146, 8.044, 7], [8.618, 8.552, 7], [8.892, 8.166, 7], [9.558, 7.948, 7], [9.76, 7.932, 7], [9.584, 8.478, 7], [9.458, 8.54, 7], [9.29, 8.472, 7], [9.542, 7.688, 7], [9.382, 7.664, 7], [9.622, 8.004, 7], [9.44, 8.058, 7], [9.694, 7.448, 7], [11.466, 8.558, 8], [11.614, 8.588, 8], [11.638, 8.266, 8], [11.284, 8.742, 8], [11.798, 8.836, 8], [11.404, 8.206, 8], [11.272, 8.394, 8], [11.566, 8.024, 8], [10.78, 8.294, 8], [11.168, 8.262, 8], [11.182, 8.342, 8], [11.282, 8.28, 8], [11.124, 8.618, 8], [16.674, 9.638, 9], [16.1, 9.702, 9], [16.128, 9.888, 9], [16.224, 10.02, 9], [16.314, 10.716, 9], [16.22, 9.494, 9], [16.27, 10.128, 9], [17.124, 9.726, 9], [16.366, 9.796, 9], [16.67, 10.498, 9], [16.456, 10.112, 9], [16.1, 9.93, 9], [16.572, 9.624, 9], [16.418, 9.966, 9], [14.064, 15.072, 10], [13.73, 15.128, 10], [13.916, 14.996, 10], [14.278, 15.152, 10], [13.948, 14.218, 10], [13.546, 14.844, 10], [14.386, 14.686, 10], [13.856, 15.206, 10], [14.204, 14.976, 10], [14.114, 15.366, 10], [13.888, 15.436, 10], [13.652, 14.602, 10], [13.408, 15.34, 10], [8.33, 16.488, 11], [8.662, 16.354, 11], [8.904, 16.402, 11], [8.398, 16.576, 11], [9.152, 16.094, 11], [8.12, 16.11, 11], [8.808, 15.59, 11], [8.376, 16.112, 11], [8.582, 16.774, 11], [8.706, 16.374, 11], [8.83, 16.36, 11], [8.468, 15.928, 11], [8.826, 16.084, 11], [4.576, 12.878, 12], [4.238, 12.506, 12], [4.19, 12.772, 12], [4.336, 12.854, 12], [4.334, 13.06, 12], [3.968, 13.016, 12], [4.038, 12.67, 12], [4.248, 12.392, 12], [4.5, 12.522, 12], [4.134, 12.834, 12], [4.052, 12.934, 12], [4.24, 12.626, 12], [3.764, 12.38, 12], [5.13, 13.296, 12], [4.278, 7.222, 13], [3.936, 6.994, 13], [4.256, 7.612, 13], [4.026, 7.23, 13], [4.288, 6.91, 13], [4.548, 7.654, 13], [4.888, 7.194, 13], [4.088, 7.212, 13], [4.246, 6.692, 13], [4.398, 7.428, 13], [3.738, 7.082, 13], [3.878, 7.232, 13], [4.412, 7.022, 13], [8.81, 3.864, 14], [8.102, 4.3, 14], [8.884, 3.504, 14], [8.738, 4.294, 14], [8.616, 3.45, 14], [8.286, 3.704, 14], [8.298, 3.378, 14], [8.562, 3.662, 14], [8.768, 4.32, 14], [8.652, 3.782, 14], [8.374, 4.136, 14], [8.534, 3.252, 14], [8.592, 3.988, 14], [13.894, 4.16, 15], [14.108, 4.918, 15], [14.3, 5.368, 15], [13.85, 4.246, 15], [14.272, 4.94, 15], [14.306, 5.06, 15], [14.004, 4.92, 15], [14.154, 4.768, 15], [13.664, 5.016, 15], [14.204, 5.064, 15], [13.668, 5.34, 15], [14.018, 5.182, 15], [14.32, 4.59, 15], [14.02, 5.614, 15]];
    },
    methods: {
      selectDataset: function() {
        var dropdown = document.getElementById("select-dataset");
        var selection = dropdown.options[dropdown.selectedIndex].value;
        this.dataset = selection;
        this.loadDataset();
        this.resetClustering();
        this.runMessage = '';
      },

      selectAlgorithm: function() {
        var dropdown = document.getElementById("select-algorithm");
        var selection = dropdown.options[dropdown.selectedIndex].value;
        this.algorithm = selection
        if (this.algorithm == 'K-Means') {
          this.showSelectNumClusters = true;
          this.showSelectKernelBandwidth = false;
          this.showSelectDBSCANInputs = false;
        }
        else if (this.algorithm == 'Mean-Shift') {
          this.showSelectNumClusters = false;
          this.showSelectKernelBandwidth = true;
          this.showSelectDBSCANInputs = false;
        }
        else if (this.algorithm == 'DBSCAN') {
          this.showSelectNumClusters = false;
          this.showSelectKernelBandwidth = false;
          this.showSelectDBSCANInputs = true;
        }
        this.runMessage = '';
        this.resetClustering();
      },

      decrementNumClusters: function(event) {
        if (this.numClusters == 0 || this.kMeansRunning == true) {
          return
        }
        this.numClusters = this.numClusters - 1
      },

      incrementNumClusters: function(event) {
        if (this.numClusters == 20 || this.kMeansRunning == true) {
          return
        }
        this.numClusters = this.numClusters + 1
      },

      loadDataset: function() {
        if (this.dataset == 'R15') {
          this.dataPointsBuffer = this.dataPointsR15;
        }
        else if (this.dataset == 'Pathbased') {
          this.dataPointsBuffer = this.dataPointsPathbased;
        }
        else if (this.dataset == 'Compound') {
          this.dataPointsBuffer = this.dataPointsCompound;
        }
        else if (this.dataset == 'Spiral') {
          this.dataPointsBuffer = this.dataPointsSpiral;
        }
        else if (this.dataset == 'Jain') {
          this.dataPointsBuffer = this.dataPointsJain;
        }
        else if (this.dataset == 'Flame') {
          this.dataPointsBuffer = this.dataPointsFlame;
        }
        else if (this.dataset == 'Aggregation') {
          this.dataPointsBuffer = this.dataPointsAggregation;
        }
        var min_x = 10000;
        var max_x = -10000;
        var min_y = 10000;
        var max_y = -10000;
        for (var i = 0; i < this.dataPointsBuffer.length; i++) {
          if (this.dataPointsBuffer[i][0] < min_x) { min_x = this.dataPointsBuffer[i][0] - 2 }
          else if (this.dataPointsBuffer[i][0] > max_x) { max_x = this.dataPointsBuffer[i][0] + 2 }
          if (this.dataPointsBuffer[i][1] < min_y) { min_y = this.dataPointsBuffer[i][1] - 2 }
          else if (this.dataPointsBuffer[i][1] > max_y) { max_y = this.dataPointsBuffer[i][1] + 2 }
        }
        var x_multiple = 800 / (max_x - min_x); 
        var y_multiple = 500 / (max_y - min_y);
        var x, y;
        this.dataPoints = []
        for (var i = 0; i < this.dataPointsBuffer.length; i++) {
          x = this.dataPointsBuffer[i][0]
          y = this.dataPointsBuffer[i][1]
          var point = {}
          point['x'] = (x - min_x) * x_multiple
          point['y'] = (y - min_y) * y_multiple
          point['category'] = this.dataPointsBuffer[i][2]
          point['cluster'] = -1
          point['color'] = "gray"
          point['fill'] = "#6EC2D1"
          this.dataPoints.push(point)
        }
      },

      runMain: function() {
        if (this.dataset == 'Not Selected') {
          this.runMessage = 'Please select a dataset.';
          return
        }
        else if (this.algorithm == 'Not Selected') {
          this.runMessage = 'Please select an algorithm.';
          return
        }
        this.runMessage = '';

        // Clear any algorithm variables
        this.resetClustering();

        // Run
        if (this.algorithm == 'K-Means') {
          this.initializeKMeans();
          this.runKMeans(1);
        }
        else if (this.algorithm == 'Mean-Shift') {
          this.runMeanShift(0, this.dataPoints)
        }
        else if (this.algorithm == 'DBSCAN') {
          this.runDBSCAN()
        }
      },

      // ---------------- K-Means ---------------- //
      initializeKMeans: function(event) {
        this.kMeansRunning = true;
        var x, y, index;
        var indices = [];
        var valid_index = false, found = false;
        this.centroids = [];

        // Pick points randomly as initial centroids
        for (var i = 0; i < this.numClusters; i++) {
          valid_index = false
          while (!valid_index) {
            index = Math.floor(Math.random() * this.dataPoints.length)
            found = false
            for (var i = 0; i < indices.length; i++) {
              if (index == indices[i]) {
                found = true
                break
              }
            }
            if (!found) {

              // Check if the point is close to an existing centroid
              indices.push(index)
              var dist, too_close = false
              for (var j = 0; j < this.centroids.length; j++) {
                dist = this.euclidean(this.dataPoints[index].x, this.dataPoints[index].y, this.centroids[j].x, this.centroids[j].y)
                if (dist < this.initThresh) {
                  too_close = true
                }
              }
              if (!too_close) {
                valid_index = true
              }
            }
          }
          x = this.dataPoints[index].x
          y = this.dataPoints[index].y
          var point = {}
          point['x'] = x
          point['y'] = y
          point['index'] = i
          point['num'] = 0
          point['total_x'] = 0
          point['total_y'] = 0
          point['color'] = this.colors[i % this.colors.length]
          this.centroids.push(point)
        }
      },
      runKMeans: function(count) {
        console.log('here..')
        if (count == this.maxIterations) {
          this.runMessage = 'Done (' + this.maxIterations + ' Iterations)'
          return
        }
        this.toggleCentroids()
        this.assignPoints()
        setTimeout(function(){this.updateColors()}.bind(this), 1200)
        setTimeout(function(){this.updateCentroids()}.bind(this), 1200)
        if (this.centroidsChanged) {
          setTimeout(function(){this.runKMeans(count + 1)}.bind(this), 1700)
        }
        else {
          this.kMeansRunning = false;
          this.runMessage = 'Done (' + count + ' Iterations).'
        }
      },
      toggleCentroids: function() {
        this.showCentroidsOnPage = true
        var app = this;
        var counter = 1
        function foo() {
          if (counter < 5) {
            counter++
            app.showCentroidsOnPage = !(app.showCentroidsOnPage)
            setTimeout(foo, 250)
          }
        }
        foo()
      },
      assignPoints: function() {
        for (var p = 0; p < this.dataPoints.length; p++) {
          var distance, index = -1, min_distance = 10000
          for (var i = 0; i < this.centroids.length; i++) {
            distance = this.euclidean(this.dataPoints[p].x, this.dataPoints[p].y, this.centroids[i].x, this.centroids[i].y)
            if (distance < min_distance) {
              min_distance = distance
              index = i
            }
          }
          this.dataPoints[p].cluster = index
        }
      },

      euclidean: function(x1, y1, x2, y2) {
        return Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2))
      },

      updateColors: function() {
        for (var p = 0; p < this.dataPoints.length; p++) {
          this.dataPoints[p].color = this.colors[this.dataPoints[p].cluster % this.colors.length]
        }
      },

      updateCentroids: function() {

        // Re-Calculates the cluster centroids based on the new assignments
        for (var i = 0; i < this.centroids.length; i++) {
          this.centroids[i].num = 0
          this.centroids[i].total_x = 0
          this.centroids[i].total_y = 0
        }

        // Sum the points
        for (var i = 0; i < this.dataPoints.length; i++) {
          this.centroids[this.dataPoints[i].cluster].total_x += this.dataPoints[i].x
          this.centroids[this.dataPoints[i].cluster].total_y += this.dataPoints[i].y
          this.centroids[this.dataPoints[i].cluster].num += 1
        }

        // Get the averages
        var changed = false
        for (var i = 0; i < this.centroids.length; i++) {
          var new_x = this.centroids[i].total_x / this.centroids[i].num
          var new_y = this.centroids[i].total_y / this.centroids[i].num
          if (Math.floor(this.centroids[i].x) != Math.floor(new_x) || Math.floor(this.centroids[i].y) != Math.floor(new_y)) {
            changed = true
          }
          this.centroids[i].x = new_x
          this.centroids[i].y = new_y
        }
        this.centroidsChanged = changed
      },

      assignPoints: function() {
        for (var p = 0; p < this.dataPoints.length; p++) {
          var distance, index = -1, min_distance = 10000
          for (var i = 0; i < this.centroids.length; i++) {
            distance = this.euclidean(this.dataPoints[p].x, this.dataPoints[p].y, this.centroids[i].x, this.centroids[i].y)
            if (distance < min_distance) {
              min_distance = distance
              index = i
            }
          }
          this.dataPoints[p].cluster = index
        }
      },

      resetClustering: function(event) {
        this.centroids = []
        this.shiftedPoints = []
        this.showCentroidsOnPage = false
        for (var i = 0; i < this.dataPoints.length; i++) {
          this.dataPoints[i].cluster = -1
          this.dataPoints[i].color = "gray"
          this.dataPoints[i].fill = "#6EC2D1"
        }
      },

      // ---------------- Mean-Shift ---------------- //
      runMeanShift: function(count, data_points) { 
        
        // Hide points from previous step
        this.showShiftedPoints = false

        // Copy points
        var data_points_copy = JSON.parse(JSON.stringify(data_points))

        // Lighten original points
        for (var i = 0; i < this.dataPoints.length; i++) {
          this.dataPoints[i].fill = "#D9F0F1"
        }

        // Iterate over points
        var changed = false
        for (var i = 0; i < data_points_copy.length; i++) {

          // Get neighboring points
          var indices = this.getNeighborhoodPoints(data_points_copy, data_points_copy[i], this.neighborhoodDistance)
          
          // Iterate over neighbors
          var numerator_x = 0, numerator_y = 0, denominator = 0
          var weight
          for (var j = 0; j < indices.length; j++) {
            weight = this.gaussianKernel(indices[j][1], this.kernelBandwidth)
            numerator_x += data_points_copy[indices[j][0]].x * weight
            numerator_y += data_points_copy[indices[j][0]].y * weight
            denominator += weight
          }
          if ((data_points_copy[i].x - (numerator_x / denominator)) > this.stopThresh) {
            changed = true
          }
          data_points_copy[i].x = numerator_x / denominator
          data_points_copy[i].y = numerator_y / denominator
        }
        this.shiftedPoints = JSON.parse(JSON.stringify(data_points_copy))
        this.showShiftedPointsOnPage = true

        // Recursive call
        if (changed && count < this.maxIterationsMS) {
          setTimeout(function(){this.runMeanShift(count + 1, data_points_copy)}.bind(this), 700)
        }
        else {
          var num_clusters = this.computeMeanShiftClusters(data_points_copy)
          console.log(num_clusters)
          this.runMessage = 'Done (' + count + ' Iterations, ' + num_clusters + ' Clusters)'
        }
      },

      getNeighborhoodPoints: function(data_points, point, distance_thresh = 50) {
        var distance = -1
        var indices = []
        this.ind_circle.x = point.x
        this.ind_circle.y = point.y
        for (var i = 0; i < data_points.length; i++) {
          distance = this.euclidean(data_points[i].x, data_points[i].y, point.x, point.y)
          if (distance < distance_thresh && distance > 0) {
            indices.push([i, distance])
          }
        }
        return indices
      },

      computeMeanShiftClusters: function(data_points) {
        var centroids = []
        var distance
        for (var i = 0; i < data_points.length; i++) {
          this.dataPoints[i].fill = "#6EC2D1"
          var found = false
          for (var j = 0; j < centroids.length; j++) {
            distance = this.euclidean(data_points[i].x, data_points[i].y, centroids[j].x, centroids[j].y)
            if (distance < 10) {
              this.dataPoints[i].cluster = j 
              this.dataPoints[i].color = this.colors[j % this.colors.length]
              found = true
            }
          }
          if (!found) {
            centroids.push(data_points[i])
            this.dataPoints[i].cluster = centroids.length - 1
            this.dataPoints[i].color = this.colors[(centroids.length - 1) % this.colors.length]
          }
        }
        return centroids.length
      },

      gaussianKernel: function(distance, bandwidth) {
        return (1/(bandwidth*Math.sqrt(2*Math.PI))) * Math.exp(-0.5*Math.pow(distance / bandwidth, 2))
      },

      decrementKernelBandwidth: function(event) {
        if (this.kernelBandwidth == 0) {
          return
        }
        this.kernelBandwidth = this.kernelBandwidth - 1
      },

      incrementKernelBandwidth: function(event) {
        if (this.kernelBandwidth == 800) {
          return
        }
        this.kernelBandwidth = this.kernelBandwidth + 1
      },


    }
  })
</script>
<style>
  #clustering-viz {
    font-family: Courier;
  }
  #nav {
    list-style-type: none;
    margin: 0;
    padding: 0;
    overflow: hidden;
    background-color: #f3f3f3;
    border: 1px solid #e7e7e7;
  }
  #about {
    color: #323232;
    background-color: #D9E3E4;
    border: 20px solid #D9E3E4;
    font-family: Courier;
  }
  #name {
    font-size: 20px;
  }
  li {
    float: left;
  }
  li a {
    display: block;
    color: #666;
    padding: 8px 16px;
    text-decoration: none;
  }
  li a:hover {
    background-color: #555;
    color: white;
  }
  #select-dataset {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none; 
    background-color: #DCDFF5;
    border: 8px solid #DCDFF5;
    font-size: 16px;
    font-family: Courier;
  }
  #select-dataset:hover {
    background-color: black;
    color: white;
  }
  #select-algorithm {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;      
    background-color: #C3C5DC;
    border: 8px solid #C3C5DC;
    font-size: 16px;
    font-family: Courier;
  }
  #select-algorithm:hover {
    background-color: black;
    color: white;
  }
  #run-message {
    margin-left: 1.2em;
    color: #585858;
  }
  .butt {
     background-color: #95D893;
     height: 45px;
     width: 100px;
     cursor: pointer;
     font-size: 16px;
     font-family: Courier;
  }
  .butt:hover {
    background-color: black;
    color: white;
  }
  svg.graph {
    height: 500px;
    width: 800px;
    position: relative;
    top: 10px;
  }
  svg.graph .grid {
    stroke: black;
    stroke-dasharray: 1 2;
    stroke-width: 1;
  }
</style>
